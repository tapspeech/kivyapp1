#: import SlideTransition kivy.uix.screenmanager.SlideTransition
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import Factory kivy.factory.Factory

windowManager:
    en_welcomeScreen:
    en_loginScreen:
    en_registerScreen:
    en_patientUpScreen:
    en_patientDownScreen:
    en_informationScreen:
    en_contactsScreen:
    en_caretakerUpScreen:
    en_caretakerDownScreen:


    ct_welcomeScreen:
    ct_loginScreen:
    ct_registerScreen:
    ct_patientUpScreen:
    ct_patientDownScreen:
    ct_informationScreen:
    ct_contactsScreen:
    ct_caretakerUpScreen:
    ct_caretakerDownScreen:

<contact_info@Popup>
    size_hint: 0.6, 0.2

    title:'yomama'
    FloatLayout:
        Button:
            on_release: root.dismiss()
            Label:
                text:'close me'

<en_welcomeScreen>:
    name: "en_welcome"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/welcome.png'
    BoxLayout:
        orientation: 'vertical'
        spacing: 50
        size_hint: 0.45, 0.15
        pos_hint: {"right":0.73,"top":0.55}
        Button:
            id: btn_login
            background_color: 0, 0, 0, 0
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_login'
            Image:
                source: 'images/icons/en/login.png'
                pos: self.parent.pos
                allow_stretch: True
                keep_ratio: True
                size_hint: None, None
                width: self.parent.width
                height: self.parent.width/self.image_ratio
        Button:
            id: btn_register
            background_color: 0, 0, 0, 0
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_register'
            Image:
                source: 'images/icons/en/register.png'
                pos: self.parent.pos
                allow_stretch: True
                keep_ratio: True
                size_hint: None, None
                width: self.parent.width
                height: self.parent.width/self.image_ratio
    Button:
        id: change_language
        size_hint: 0.2, 0.05
        pos_hint: {"right":0.6,"top":0.09}
        background_color: 0, 0, 0, 0
        on_press:
            app.root.transition = FadeTransition()
            app.root.current = 'ct_welcome'
        Image:
            source: 'images/icons/en/lang_change.png'
            pos: self.parent.pos
            allow_stretch: True
            keep_ratio: True
            size_hint: None, None
            width: self.parent.width
            height: self.parent.width/self.image_ratio

<en_loginScreen>:
    username: username
    password: password
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/login.png'

    FloatLayout:
		TextInput:
			id : username
			multiline : False
			font_name : "GalanoGrotesque"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.55}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: 'USERNAME'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

		TextInput:
			id : password
			multiline : False
			font_name : "GalanoGrotesque"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.45}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: 'PASSWORD'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

        Button:
            size_hint: (0.52, 0.085)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.35}
            on_press:
                root.validate()
            Image:
                source: 'images/icons/en/login_login.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
        Button:
            size_hint: (0.53, 0.072)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_welcome'
            Image:
                source: 'images/icons/en/back_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<en_registerScreen>:
    username: username
    password: password
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/register.png'
    FloatLayout:
        TextInput:
			id : username
			multiline : False
			font_name : "GalanoGrotesque"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.55}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: 'USERNAME'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

		TextInput:
			id : password
			multiline : False
			font_name : "GalanoGrotesque"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.45}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: 'PASSWORD'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

        TextInput:
            id : password
            multiline : False
            font_name : "GalanoGrotesque"
            font_size : 40
            size_hint : 0.8, 0.08
            pos_hint : {'center_x': 0.5, 'center_y': 0.45}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: 'PASSWORD'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1
        Button:
            id: patient
            size_hint: (0.37, 0.085)
            background_color: 0,0,0,0
            pos_hint: {'center_x': 0.275, 'center_y': 0.35}
            on_press:
                root.validate("patient")
            Image:
                source: 'images/icons/en/reg_patient.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: caretaker
            size_hint: (0.37, 0.085)
            background_color: 0,0,0,0
            pos_hint: {'center_x': 0.725, 'center_y': 0.35}
            on_press:
                root.validate("caretaker")
            Image:
                source: 'images/icons/en/reg_caretaker.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.53, 0.072)
            background_color: 0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_welcome'
                # conenct this to a function that registers the typed stuff into the data base
            Image:
                source: 'images/icons/en/back_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<en_PatientUpScreen>:
    say_something: say_something
    hello_name: hello_name

    on_enter:
        root.change_helloMessage()

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/patient_up.png'

    FloatLayout:

        # below is the logout button
        Button:
            size_hint: (0.39, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.92}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_login'
            Image:
                source: 'images/icons/en/logout_button.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.904, 0.0811)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
            on_press:
                root.sound_alarm()
            Image:
                source: 'images/icons/en/alarm_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        # Change this below so that it is custom to the dude
        Label:
            id: hello_name
            font_name: 'GalanoGrotesque'
            font_size:50
            color: 0.0745,0.31,0.357,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.65}
            text:'Hello, Name...(WIP)'

        TextInput:
            id: say_something
            font_size:35
            multiline:False
            font_name: 'GalanoGrotesque'
            size_hint: (0.861, 0.0674)
            pos_hint: {'center_x': 0.5, 'center_y': 0.20}
            hint_text:'Say something...'
            background_normal: 'images/icons/en/say_something_textinput_active.png'
            background_active: 'images/icons/en/say_something_textinput_active.png'
            # Left, Top, Right, Button
            padding:[40,30,240,20]

        Button:
            size_hint: (0.8, 0.116)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.37}
            on_release:
                app.root.current = ('en_contacts')

        Button:
            size_hint: (0.222, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.8, 'center_y': 0.20}
            on_press:
                root.textInput_enter()
            Image:
                source: 'images/icons/en/enter_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.0856, 0.0504)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.05}
            on_press:
                app.root.transition = SlideTransition(direction="up")
                app.root.current = 'en_patientDown'

            Image:
                source: 'images/icons/en/down_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.30, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.9, 'center_y': 0.92}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_information'

<en_PatientDownScreen>:
    label_1: label_1
    label_2: label_2
    label_3: label_3
    label_4: label_4
    dots: dots

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/patient_down.png'

    FloatLayout:
        Image:
            id: dots
            size_hint: (0.26, 0.774)
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            source:'images/icons/general/dots_1.png'

        # for some reason, theres a background to this, but whatever, fix it later lol
        # this thing blocks the buttons?
        Carousel:
            # everytime you swipe, a kivy event runs
            on_index: root.changebuttons("slide #{}".format(args[1]))
            size_hint: 0.6, 0.6
            pos_hint: {'center_x': 0.5, 'center_y': 0.675}
            direction: "right"
            AsyncImage:
                source:'images/icons/en/menu_1.png'
            AsyncImage:
                source:'images/icons/en/menu_2.png'
            AsyncImage:
                source:'images/icons/en/menu_3.png'
            AsyncImage:
                source:'images/icons/en/menu_4.png'

        Button:
            size_hint: (0.0856, 0.0218)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            on_press:
                app.root.transition = SlideTransition(direction="down")
                app.root.current = 'en_patientUp'

            Image:
                source: 'images/icons/en/up_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_1'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.44}
            on_press:
                root.returnMessage('label_1')
            Image:
                source: 'images/icons/general/label1.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

            Label:
                id: label_1
                text: 'Water'
                font_name: 'GalanoGrotesque'
                font_size: 40
                # below sets the color of the font
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_2'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.32}
            on_press:
                root.returnMessage('label_2')
            Image:
                source: 'images/icons/general/label2.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_2
                text: 'Milk'
                font_name: 'GalanoGrotesque'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_3'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.20}
            on_press:
                root.returnMessage('label_3')
            Image:
                source: 'images/icons/general/label3.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_3
                text: 'Juice'
                font_name: 'GalanoGrotesque'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_4'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.08}
            on_press:
                root.returnMessage('label_4')
            Image:
                source: 'images/icons/general/label4.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_4
                text: 'Tea'
                font_name: 'GalanoGrotesque'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<en_contactsScreen>:
    emergency_contact_1: emergency_contact_1
    emergency_contact_2: emergency_contact_2
    emergency_contact_3: emergency_contact_3

    on_enter:
        root.update_emergency_contacts()

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/contacts.png'

    Button:
        size_hint: (0.39, 0.053)
        background_color:0,0,0,0
        pos_hint: {'center_x': 0.5, 'center_y': 0.93}
        on_press:
            app.root.transition = FadeTransition()
            app.root.current = 'en_patientUp'
        Image:
            source: 'images/icons/en/back.png'
            size: self.parent.size
            center_x: self.parent.center_x
            center_y: self.parent.center_y

    TextInput:
        id: emergency_contact_1
        font_name: 'Noto'
        text: 'Name:\nNumber:'
        size_hint: (0.88,0.14)
        pos_hint: {'center_x':0.5,'center_y':0.66}

    TextInput:
        id: emergency_contact_2
        font_name: 'Noto'
        text: 'Name:\nNumber:'
        size_hint: (0.88,0.14)
        pos_hint: {'center_x':0.5,'center_y':0.45}

    TextInput:
        id: emergency_contact_3
        font_name: 'Noto'
        text: 'Name:\nNumber:'
        size_hint: (0.88,0.14)
        pos_hint: {'center_x':0.5,'center_y':0.25}


    Button:
        id: save_button
        size_hint: (0.39, 0.053)
        background_color:0,0,0,0
        pos_hint: {'center_x': 0.5, 'center_y': 0.075}
        on_press:
            app.root.transition = FadeTransition()
            root.save_Contacts()
        Image:
            source: 'images/icons/en/save_btn.png'
            size: self.parent.size
            center_x: self.parent.center_x
            center_y: self.parent.center_y

<en_informationScreen>:
    name: "ct_information"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/information.png'
    FloatLayout:
        Label:
            id: Medical_History
            font_name : "GalanoGrotesque"
            font_size:50
            color: 0.0745,0.31,0.357,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.70}
            text:'Medical History'

        TextInput:
            id: medical_history_input
            font_name: 'Noto'
            text: ''
            size_hint: (0.704,0.112)
            pos_hint: {'center_x':0.5,'center_y':0.61}

        Label:
            id: Diagnosis
            font_name : "GalanoGrotesque"
            font_size:50
            color: 0.0745,0.31,0.357,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.50}
            text:'Diagnosis'

        TextInput:
            id: diagnosis_input
            font_name: 'Noto'
            text: ''
            size_hint: (0.704,0.112)
            pos_hint: {'center_x':0.5,'center_y':0.42}

        Label:
            id: Medication
            font_name : "GalanoGrotesque"
            font_size:50
            color: 0.0745,0.31,0.357,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.30}
            text:'Medication'

        TextInput:
            id: medication_input
            font_name: 'Noto'
            text: ''
            size_hint: (0.704,0.112)
            pos_hint: {'center_x':0.5,'center_y':0.22}

        Button:
            size_hint: (0.39, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.92}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_patientUp'
            Image:
                source: 'images/icons/en/back.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: save_button
            size_hint: (0.39, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.11}
            on_press:
                app.root.transition = FadeTransition()
                root.save_medical_info()
            Image:
                source: 'images/icons/en/save_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<en_caretakerUpScreen>:
    caretaker_name: caretaker_name

    on_enter:
        root.display_caretaker_name()

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/CaretakerUp.png'

    FloatLayout:
        # below is the logout button
        Button:
            size_hint: (0.39, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.96}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'en_login'
            Image:
                source: 'images/icons/en/logout_button.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        # below is the button to go to caretakerDown
        Button:
            size_hint: (0.0856, 0.0504)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.15}
            on_press:
                app.root.transition = SlideTransition(direction="up")
                app.root.current = 'en_caretakerDown'
            Image:
                source: 'images/icons/en/down_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y


        Label:
            id: caretaker_name
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            font_name: 'Noto'
            color:0,0,0,1
            text: 'caretaker_name'
            font_size:30
        Label:
            id: caretaker_label
            pos_hint: {'center_x': 0.5, 'center_y':0.72}
            size_hint: (0.85, 0.85)
            # font_name: 'GalanoGrotesque'
            # text: 'caretaker_name'
            font_size:30
            Image:
                source: 'images/icons/general/wagwan.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y




<en_caretakerDownScreen>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/en/CaretakerDown.png'

    FloatLayout:
        Button:
            size_hint: (0.0856, 0.0218)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            on_press:
                app.root.transition = SlideTransition(direction="down")
                app.root.current = 'en_caretakerUp'
            Image:
                source: 'images/icons/en/up_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<en_CaretakerScreen>:

<ct_welcomeScreen>:
    name: "ct_welcome"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/ct/welcome.png'
    BoxLayout:
        orientation: 'vertical'
        spacing: 50
        size_hint: 0.45, 0.15
        pos_hint: {"right":0.73,"top":0.55}
        Button:
            id: btn_login
            background_color: 0, 0, 0, 0
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_login'
            Image:
                source: 'images/icons/ct/login.png'
                pos: self.parent.pos
                allow_stretch: True
                keep_ratio: True
                size_hint: None, None
                width: self.parent.width
                height: self.parent.width/self.image_ratio
        Button:
            id: btn_register
            background_color: 0, 0, 0, 0
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_register'
            Image:
                source: 'images/icons/ct/register.png'
                pos: self.parent.pos
                allow_stretch: True
                keep_ratio: True
                size_hint: None, None
                width: self.parent.width
                height: self.parent.width/self.image_ratio
    Button:
        id: change_language
        size_hint: 0.2, 0.05
        pos_hint: {"right":0.6,"top":0.1}
        background_color: 0, 0, 0, 0
        on_press:
            app.root.transition = FadeTransition()
            app.root.current = 'en_welcome'
        Image:
            source: 'images/icons/ct/lang_change.png'
            pos: self.parent.pos
            allow_stretch: True
            keep_ratio: True
            size_hint: None, None
            width: self.parent.width
            height: self.parent.width/self.image_ratio

<ct_loginScreen>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/ct/login.png'
    FloatLayout:
		TextInput:
			id : username
			multiline : False
			font_name : "Noto"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.55}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: '用戶名稱'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

		TextInput:
			id : password
			multiline : False
			font_name : "Noto"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.45}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: '密碼'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

        Button:
            size_hint: (0.52, 0.085)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.35}
            # as of now, this login button sets it so that the user is redirected to the patients ui screen
            # in the future, change this to run a function to detect if the user is
            #   a patient or a caretaker (using the database), then bring them
            #   to the appropriate screen, i.e. patient user is brought to
            #   patient screen, and caretaker user is brought to the caretaker screen
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_patientUp'
            Image:
                source: 'images/icons/ct/login_login.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.53, 0.072)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_welcome'
            Image:
                source: 'images/icons/ct/back_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<ct_registerScreen>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/ct/register.png'

        # Fix below line from button to text field
    FloatLayout:
		TextInput:
			id : username
			multiline : False
			font_name : "Noto"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.55}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: '用戶名稱'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

		TextInput:
			id : password
			multiline : False
			font_name : "Noto"
			font_size : 40
			size_hint : 0.8, 0.08
			pos_hint : {'center_x': 0.5, 'center_y': 0.45}
            background: 0,0,0,0
            background_normal: 'images/icons/en/login_textinput_active.png'
            hint_text: '密碼'
            hint_text_color: (0.325,0.415,0.4549,0.7)
            foreground_color: (0.325,0.415,0.4549,1)
            cursor_color: (0.325,0.415,0.4549,1)
            padding: 30, 30, 30, 30
            on_touch_move:
                opacity: 1

        Button:
            size_hint: (0.37, 0.085)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.275, 'center_y': 0.35}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_login'
                # conenct this to a function that registers the typed stuff into the data base
            Image:
                source: 'images/icons/ct/reg_patient.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.37, 0.085)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.725, 'center_y': 0.35}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_login'
                # conenct this to a function that registers the typed stuff into the data base
            Image:
                source: 'images/icons/ct/reg_caretaker.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.53, 0.072)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.25}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_welcome'
                # conenct this to a function that registers the typed stuff into the data base
            Image:
                source: 'images/icons/ct/back_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<ct_PatientUpScreen>:
    say_something: say_something
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/ct/patient_up.png'

    FloatLayout:
        Button:
            size_hint: (0.39, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.92}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_login'
            Image:
                source: 'images/icons/ct/logout_button.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
        Button:
            size_hint: (0.904, 0.0811)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
            on_press:
                root.sound_alarm()
            Image:
                source: 'images/icons/ct/alarm_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        # Change this below so that it is custom to the dude
        Label:
            id: Hello_Name
            font_name : "Noto"
            font_size:50
            color: 0.0745,0.31,0.357,1
            pos_hint: {'center_x': 0.5, 'center_y': 0.65}
            text:'你好，...(WIP)'

        TextInput:
            id: say_something
            font_size:35
            multiline:False
            font_name: 'GalanoGrotesque'
            size_hint: (0.861, 0.0674)
            pos_hint: {'center_x': 0.5, 'center_y': 0.20}
            hint_text:'說些什麼...'
            background_normal: 'images/icons/en/say_something_textinput_active.png'
            background_active: 'images/icons/en/say_something_textinput_active.png'
            # Left, Top, Right, Button
            padding:[40,30,240,20]


        Button:
            size_hint: (0.222, 0.053)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.8, 'center_y': 0.20}
            on_press:
                root.textInput_enter()
            Image:
                source: 'images/icons/ct/enter_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            size_hint: (0.0856, 0.0504)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.05}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_patientDown'
            Image:
                source: 'images/icons/en/down_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<ct_PatientDownScreen>:
    label_1: label_1
    label_2: label_2
    label_3: label_3
    label_4: label_4
    dots: dots

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'images/bg/ct/patient_down.png'

    FloatLayout:
        Image:
            id: dots
            size_hint: (0.26, 0.774)
            pos_hint: {'center_x': 0.5, 'center_y': 0.6}
            source:'images/icons/general/dots_1.png'

        # for some reason, theres a background to this, but whatever, fix it later lol
        # this thing blocks the buttons?
        Carousel:
            # everytime you swipe, a kivy event runs
            on_index: root.changebuttons("slide #{}".format(args[1]))
            size_hint: 0.6, 0.6
            pos_hint: {'center_x': 0.5, 'center_y': 0.675}
            direction: "right"
            AsyncImage:
                source:'images/icons/ct/menu_1.png'
            AsyncImage:
                source:'images/icons/ct/menu_2.png'
            AsyncImage:
                source:'images/icons/ct/menu_3.png'
            AsyncImage:
                source:'images/icons/ct/menu_4.png'

        Button:
            size_hint: (0.0856, 0.0218)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}
            on_press:
                app.root.transition = FadeTransition()
                app.root.current = 'ct_patientUp'
            Image:
                source: 'images/icons/en/up_btn.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_1'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.44}
            on_press:
                root.returnMessage('label_1')
            Image:
                source: 'images/icons/general/label1.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y

            Label:
                id: label_1
                text: '水'
                font_name: 'Noto'
                font_size: 40
                # below sets the color of the font
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_2'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.32}
            on_press:
                root.returnMessage('label_2')
            Image:
                source: 'images/icons/general/label2.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_2
                text: '牛奶'
                font_name: 'Noto'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_3'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.20}
            on_press:
                root.returnMessage('label_3')
            Image:
                source: 'images/icons/general/label3.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_3
                text: '果汁'
                font_name: 'Noto'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

        Button:
            id: 'button_4'
            size_hint: (0.9, 0.1)
            background_color:0,0,0,0
            pos_hint: {'center_x': 0.5, 'center_y': 0.08}
            on_press:
                root.returnMessage('label_4')
            Image:
                source: 'images/icons/general/label4.png'
                size: self.parent.size
                center_x: self.parent.center_x
                center_y: self.parent.center_y
            Label:
                id: label_4
                text: '茶'
                font_name: 'Noto'
                font_size: 40
                color: 0.33,0.33,0.33,1
                center_x: self.parent.center_x
                center_y: self.parent.center_y

<ct_caretakerUpScreen>:

<ct_caretakerDownScreen>:
